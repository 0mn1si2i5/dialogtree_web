<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¹è¯æ ‘å¯è§†åŒ–æ–¹æ¡ˆå¯¹æ¯”</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { background: white; margin: 20px 0; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #1890ff; }
        .pros-cons { display: flex; gap: 15px; margin-top: 15px; }
        .pros, .cons { flex: 1; padding: 10px; border-radius: 4px; }
        .pros { background: #f6ffed; border: 1px solid #b7eb8f; }
        .cons { background: #fff2f0; border: 1px solid #ffb8b0; }
        .pros h4 { color: #52c41a; margin-top: 0; }
        .cons h4 { color: #ff4d4f; margin-top: 0; }
        
        /* æ–¹æ¡ˆA - D3.js æ ·å¼ */
        .d3-tree { width: 100%; height: 400px; border: 1px solid #ddd; border-radius: 4px; }
        .node circle { fill: #fff; stroke: #1890ff; stroke-width: 2px; cursor: pointer; }
        .node.active circle { fill: #1890ff; }
        .node text { font-size: 12px; fill: #333; }
        .link { fill: none; stroke: #ccc; stroke-width: 1.5px; }
        
        /* æ–¹æ¡ˆB - ç»„ä»¶åº“æ ·å¼ */
        .tree-component { border: 1px solid #ddd; border-radius: 4px; padding: 15px; }
        .tree-node { margin: 5px 0; padding: 8px 12px; border: 1px solid #e8e8e8; border-radius: 4px; cursor: pointer; }
        .tree-node:hover { background: #f0f9ff; border-color: #1890ff; }
        .tree-node.active { background: #e6f7ff; border-color: #1890ff; }
        .tree-children { margin-left: 20px; position: relative; }
        .tree-children::before { content: ''; position: absolute; left: -10px; top: 0; bottom: 0; width: 1px; background: #ddd; }
        
        /* æ–¹æ¡ˆC - CSSæ ·å¼ */
        .css-tree { border: 1px solid #ddd; border-radius: 4px; padding: 15px; }
        .css-tree ul { list-style: none; padding: 0; position: relative; }
        .css-tree li { margin: 0; padding: 10px 0; position: relative; }
        .css-tree li::before { content: ''; position: absolute; top: 0; left: -20px; width: 1px; height: 100%; background: #ddd; }
        .css-tree li::after { content: ''; position: absolute; top: 20px; left: -20px; width: 20px; height: 1px; background: #ddd; }
        .css-node { padding: 8px 12px; border: 1px solid #e8e8e8; border-radius: 4px; display: inline-block; cursor: pointer; }
        .css-node:hover { background: #f0f9ff; border-color: #1890ff; }
        .css-node.active { background: #e6f7ff; border-color: #1890ff; }
    </style>
</head>
<body>
    <h1>DialogTree å¯¹è¯æ ‘å¯è§†åŒ–æ–¹æ¡ˆå¯¹æ¯”</h1>
    
    <!-- æ–¹æ¡ˆA: D3.js è‡ªå®šä¹‰å®ç° -->
    <div class="container">
        <div class="title">æ–¹æ¡ˆA: D3.js è‡ªå®šä¹‰æ ‘çŠ¶å›¾ (æ¨è â­â­â­â­â­)</div>
        <div id="d3-tree" class="d3-tree"></div>
        <div class="pros-cons">
            <div class="pros">
                <h4>âœ… ä¼˜ç‚¹</h4>
                <ul>
                    <li>è§†è§‰æ•ˆæœæœ€ä½³ï¼Œå¯è‡ªå®šä¹‰åŠ¨ç”»</li>
                    <li>æ”¯æŒå¤æ‚çš„äº¤äº’ï¼ˆç¼©æ”¾ã€æ‹–æ‹½ã€æŠ˜å ï¼‰</li>
                    <li>å¯ä»¥å±•ç¤ºå¤§é‡èŠ‚ç‚¹ï¼Œæ€§èƒ½ä¼˜ç§€</li>
                    <li>æ”¯æŒåŠ›å¯¼å‘å¸ƒå±€ï¼Œè‡ªåŠ¨é¿å…é‡å </li>
                    <li>å¯ä»¥æ·»åŠ ä¸°å¯Œçš„è§†è§‰å…ƒç´ ï¼ˆè¿çº¿æ ·å¼ã€èŠ‚ç‚¹å›¾æ ‡ç­‰ï¼‰</li>
                </ul>
            </div>
            <div class="cons">
                <h4>âŒ ç¼ºç‚¹</h4>
                <ul>
                    <li>å¼€å‘å¤æ‚åº¦è¾ƒé«˜</li>
                    <li>éœ€è¦å­¦ä¹ D3.js</li>
                    <li>è°ƒè¯•ç›¸å¯¹å›°éš¾</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- æ–¹æ¡ˆB: ç»„ä»¶åº“å®ç° -->
    <div class="container">
        <div class="title">æ–¹æ¡ˆB: Arco Design Tree ç»„ä»¶ (æ¨è â­â­â­)</div>
        <div class="tree-component">
            <div class="tree-node active">ğŸ’¬ åˆå§‹å¯¹è¯: ä½ å¥½ï¼Œè¯·å¸®æˆ‘è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ</div>
            <div class="tree-children">
                <div class="tree-node">ğŸ’¬ åˆ†æ”¯1: èƒ½è¯¦ç»†è¯´è¯´æœºå™¨å­¦ä¹ å—ï¼Ÿ</div>
                <div class="tree-children">
                    <div class="tree-node">ğŸ’¬ å­åˆ†æ”¯: æ·±åº¦å­¦ä¹ å’Œæœºå™¨å­¦ä¹ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</div>
                </div>
                <div class="tree-node">ğŸ’¬ åˆ†æ”¯2: AIåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æœ‰å“ªäº›åº”ç”¨ï¼Ÿ</div>
                <div class="tree-children">
                    <div class="tree-node">ğŸ’¬ å­åˆ†æ”¯: æ™ºèƒ½æ‰‹æœºä¸­çš„AIåŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ</div>
                    <div class="tree-node">ğŸ’¬ å­åˆ†æ”¯: AIåŠ©æ‰‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</div>
                </div>
            </div>
        </div>
        <div class="pros-cons">
            <div class="pros">
                <h4>âœ… ä¼˜ç‚¹</h4>
                <ul>
                    <li>å¼€å‘é€Ÿåº¦å¿«ï¼Œç›´æ¥ä½¿ç”¨ç°æˆç»„ä»¶</li>
                    <li>ä¸Arco Designé£æ ¼ç»Ÿä¸€</li>
                    <li>åŸºç¡€åŠŸèƒ½ç¨³å®šå¯é </li>
                    <li>ç»´æŠ¤æˆæœ¬ä½</li>
                </ul>
            </div>
            <div class="cons">
                <h4>âŒ ç¼ºç‚¹</h4>
                <ul>
                    <li>è§†è§‰æ•ˆæœè¾ƒæ™®é€š</li>
                    <li>å®šåˆ¶èƒ½åŠ›æœ‰é™</li>
                    <li>å¤§é‡èŠ‚ç‚¹æ—¶æ€§èƒ½ä¸€èˆ¬</li>
                    <li>æ— æ³•å®ç°å¤æ‚çš„å¸ƒå±€ç®—æ³•</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- æ–¹æ¡ˆC: çº¯CSSå®ç° -->
    <div class="container">
        <div class="title">æ–¹æ¡ˆC: çº¯CSS+HTMLå®ç° (æ¨è â­â­)</div>
        <div class="css-tree">
            <ul>
                <li>
                    <div class="css-node active">ğŸ’¬ åˆå§‹å¯¹è¯: ä½ å¥½ï¼Œè¯·å¸®æˆ‘è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ</div>
                    <ul>
                        <li>
                            <div class="css-node">ğŸ’¬ åˆ†æ”¯1: èƒ½è¯¦ç»†è¯´è¯´æœºå™¨å­¦ä¹ å—ï¼Ÿ</div>
                            <ul>
                                <li><div class="css-node">ğŸ’¬ æ·±åº¦å­¦ä¹ å’Œæœºå™¨å­¦ä¹ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</div></li>
                            </ul>
                        </li>
                        <li>
                            <div class="css-node">ğŸ’¬ åˆ†æ”¯2: AIåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æœ‰å“ªäº›åº”ç”¨ï¼Ÿ</div>
                            <ul>
                                <li><div class="css-node">ğŸ’¬ æ™ºèƒ½æ‰‹æœºä¸­çš„AIåŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ</div></li>
                                <li><div class="css-node">ğŸ’¬ AIåŠ©æ‰‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</div></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="pros-cons">
            <div class="pros">
                <h4>âœ… ä¼˜ç‚¹</h4>
                <ul>
                    <li>å®ç°ç®€å•ï¼Œæ— éœ€é¢å¤–ä¾èµ–</li>
                    <li>ç»´æŠ¤æˆæœ¬æœ€ä½</li>
                    <li>å“åº”é€Ÿåº¦å¿«</li>
                    <li>å®¹æ˜“ç†è§£å’Œä¿®æ”¹</li>
                </ul>
            </div>
            <div class="cons">
                <h4>âŒ ç¼ºç‚¹</h4>
                <ul>
                    <li>è§†è§‰æ•ˆæœæœ€åŸºç¡€</li>
                    <li>æ— æ³•å¤„ç†å¤§é‡èŠ‚ç‚¹</li>
                    <li>äº¤äº’èƒ½åŠ›æœ‰é™</li>
                    <li>å¸ƒå±€çµæ´»æ€§å·®</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // D3.js æ ‘çŠ¶å›¾ç¤ºä¾‹
        const data = {
            name: "ğŸ’¬ åˆå§‹å¯¹è¯: ä½ å¥½ï¼Œè¯·å¸®æˆ‘è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ",
            children: [
                {
                    name: "ğŸ’¬ åˆ†æ”¯1: èƒ½è¯¦ç»†è¯´è¯´æœºå™¨å­¦ä¹ å—ï¼Ÿ",
                    children: [
                        { name: "ğŸ’¬ æ·±åº¦å­¦ä¹ å’Œæœºå™¨å­¦ä¹ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" }
                    ]
                },
                {
                    name: "ğŸ’¬ åˆ†æ”¯2: AIåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æœ‰å“ªäº›åº”ç”¨ï¼Ÿ",
                    children: [
                        { name: "ğŸ’¬ æ™ºèƒ½æ‰‹æœºä¸­çš„AIåŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ" },
                        { name: "ğŸ’¬ AIåŠ©æ‰‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" }
                    ]
                }
            ]
        };

        const width = 800;
        const height = 400;

        const svg = d3.select("#d3-tree")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        const g = svg.append("g").attr("transform", "translate(50,50)");

        const tree = d3.tree().size([height - 100, width - 200]);
        const root = d3.hierarchy(data);
        tree(root);

        // ç»˜åˆ¶è¿çº¿
        g.selectAll('.link')
            .data(root.links())
            .enter().append('path')
            .attr('class', 'link')
            .attr('d', d3.linkHorizontal()
                .x(d => d.y)
                .y(d => d.x));

        // ç»˜åˆ¶èŠ‚ç‚¹
        const node = g.selectAll('.node')
            .data(root.descendants())
            .enter().append('g')
            .attr('class', 'node')
            .attr('transform', d => `translate(${d.y},${d.x})`)
            .on('click', function(event, d) {
                d3.selectAll('.node').classed('active', false);
                d3.select(this).classed('active', true);
            });

        node.append('circle').attr('r', 6);
        
        node.append('text')
            .attr('dy', 3)
            .attr('x', d => d.children ? -8 : 8)
            .style('text-anchor', d => d.children ? 'end' : 'start')
            .text(d => d.data.name.length > 20 ? d.data.name.substring(0, 20) + '...' : d.data.name);

        // è®¾ç½®ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæ´»è·ƒçŠ¶æ€
        g.select('.node').classed('active', true);

        // ä¸ºå…¶ä»–æ–¹æ¡ˆæ·»åŠ ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.tree-node, .css-node').forEach(node => {
            node.addEventListener('click', function() {
                // ç§»é™¤åŒä¸€å®¹å™¨å†…çš„å…¶ä»–activeçŠ¶æ€
                const container = this.closest('.tree-component, .css-tree');
                container.querySelectorAll('.active').forEach(el => el.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>